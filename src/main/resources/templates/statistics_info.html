<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>统计信息</title>
    <meta name="keywords" content="">
    <meta name="description" content="">
    <link rel="shortcut icon" href="favicon.ico">
    <link href="//dream.picp.vip/static/admin/css/bootstrap.min.css?v=3.3.6" rel="stylesheet">
    <link href="//dream.picp.vip/static/admin/css/font-awesome.css?v=4.4.0" rel="stylesheet">
    <link href="//dream.picp.vip/static/admin/css/animate.css" rel="stylesheet">
    <link href="//dream.picp.vip/static/admin/css/style.css?v=4.1.0" rel="stylesheet">
</head>
<body class="gray-bg">
<div class="wrapper wrapper-content animated fadeIn">
    <div class="row">
        <div class="col-sm-12">
            <div class="tabs-container">
                <ul class="nav nav-tabs">
                    <li class="active">
                        <a data-toggle="tab" href="#tab-1" aria-expanded="true">业务员月度销售额排行榜</a>
                    </li>
                    <li class="">
                        <a data-toggle="tab" href="#tab-2" aria-expanded="false">业务员年度销售额排行榜</a>
                    </li>
                    <li class="">
                        <a data-toggle="tab" href="#tab-3" aria-expanded="false">业务员月度销量排行榜</a>
                    </li>
                    <li class="">
                        <a data-toggle="tab" href="#tab-4" aria-expanded="false">业务员年度销量排行榜</a>
                    </li>
                </ul>
                <div class="tab-content">
                    <div id="tab-1" class="tab-pane active">
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="panel panel-primary">
                                        <div class="panel-heading"> 一部</div>
                                        <div class="panel-body">
                                            <div class="ibox-content">
                                                <div class="row row-lg">
                                                    <div class="col-sm-12">
                                                    </div>
                                                </div>
                                                <div class="row row-lg">
                                                    <div class="col-sm-12">
                                                        <!-- Example Events -->
                                                        <div class="example-wrap">
                                                            <div class="example">
                                                                <table id="salesMonthMoney1" data-mobile-responsive="true"></table>
                                                            </div>
                                                        </div>
                                                        <!-- End Example Events -->
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="panel panel-success">
                                        <div class="panel-heading">二部</div>
                                        <div class="panel-body">
                                            <div class="ibox-content">
                                                <div class="row row-lg">
                                                    <div class="col-sm-12">
                                                    </div>
                                                </div>
                                                <div class="row row-lg">
                                                    <div class="col-sm-12">
                                                        <!-- Example Events -->
                                                        <div class="example-wrap">
                                                            <div class="example">
                                                                <table id="salesMonthMoney2" data-mobile-responsive="true"></table>
                                                            </div>
                                                        </div>
                                                        <!-- End Example Events -->
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="tab-2" class="tab-pane">
                        <div class="panel-body">
                            <strong>移动设备优先</strong>
                            <p>在 Bootstrap 2 中，我们对框架中的某些关键部分增加了对移动设备友好的样式。而在 Bootstrap 3 中，我们重写了整个框架，使其一开始就是对移动设备友好的。这次不是简单的增加一些可选的针对移动设备的样式，而是直接融合进了框架的内核中。也就是说，Bootstrap 是移动设备优先的。针对移动设备的样式融合进了框架的每个角落，而不是增加一个额外的文件。</p>
                        </div>
                    </div>
                    <div id="tab-3" class="tab-pane">
                        <div class="panel-body">
                            <strong>移动设备优先</strong>
                            <p>在 Bootstrap 2 中，我们对框架中的某些关键部分增加了对移动设备友好的样式。而在 Bootstrap 3 中，我们重写了整个框架，使其一开始就是对移动设备友好的。这次不是简单的增加一些可选的针对移动设备的样式，而是直接融合进了框架的内核中。也就是说，Bootstrap 是移动设备优先的。针对移动设备的样式融合进了框架的每个角落，而不是增加一个额外的文件。</p>
                        </div>
                    </div>
                    <div id="tab-4" class="tab-pane">
                        <div class="panel-body">
                            <strong>移动设备优先</strong>
                            <p>在 Bootstrap 2 中，我们对框架中的某些关键部分增加了对移动设备友好的样式。而在 Bootstrap 3 中，我们重写了整个框架，使其一开始就是对移动设备友好的。这次不是简单的增加一些可选的针对移动设备的样式，而是直接融合进了框架的内核中。也就是说，Bootstrap 是移动设备优先的。针对移动设备的样式融合进了框架的每个角落，而不是增加一个额外的文件。</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br>
    <div class="row">
        <div class="col-sm-12">
            <div class="tabs-container">
                <ul class="nav nav-tabs">
                    <li class="active">
                        <a data-toggle="tab" href="#tab-5" aria-expanded="true"> 产品月度销量排行榜</a>
                    </li>
                    <li class="">
                        <a data-toggle="tab" href="#tab-6" aria-expanded="false">产品年度销量排行榜</a>
                    </li>
                </ul>
                <div class="tab-content">
                    <div id="tab-5" class="tab-pane active">
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="panel panel-primary">
                                        <div class="panel-heading"> 一部</div>
                                        <div class="panel-body">
                                            <p>通过 .panel-heading 可以很简单地为面板加入一个标题容器。你也可以通过添加设置了 .panel-title 类的标签，添加一个预定义样式的标题。 为了给链接设置合适的颜色，务必将链接放到带有 .panel-title 类的标题标签内。</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="panel panel-success">
                                        <div class="panel-heading">二部</div>
                                        <div class="panel-body">
                                            <p>通过 .panel-heading 可以很简单地为面板加入一个标题容器。你也可以通过添加设置了 .panel-title 类的标签，添加一个预定义样式的标题。 为了给链接设置合适的颜色，务必将链接放到带有 .panel-title 类的标题标签内。</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="tab-6" class="tab-pane">
                        <div class="panel-body">
                            <strong>移动设备优先</strong>
                            <p>在 Bootstrap 2 中，我们对框架中的某些关键部分增加了对移动设备友好的样式。而在 Bootstrap 3 中，我们重写了整个框架，使其一开始就是对移动设备友好的。这次不是简单的增加一些可选的针对移动设备的样式，而是直接融合进了框架的内核中。也就是说，Bootstrap 是移动设备优先的。针对移动设备的样式融合进了框架的每个角落，而不是增加一个额外的文件。</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- 全局js -->
<script src="//dream.picp.vip/static/admin/js/jquery.min.js?v=2.1.4"></script>
<script src="//dream.picp.vip/static/admin/js/bootstrap.min.js?v=3.3.6"></script>
<!-- 自定义js -->
<script src="//dream.picp.vip/static/admin/js/content.js?v=1.0.0"></script>
<script>
    $(function() {
        $('#salesMonthMoney1').bootstrapTable({
            url: "queryProductList",
            search: false,
            striped: true,
            pagination: true,
            showRefresh: true,
            showToggle: true,
            showColumns: true,
            dataType: "json",
            iconSize: 'outline',
            cache: false,
            toolbar: '#exampleTableEventsToolbar',
            icons: {
                refresh: 'glyphicon-repeat',
                toggle: 'glyphicon-list-alt',
                columns: 'glyphicon-list'
            },
            sidePagination: "server",
            columns: [
                {field:"salesmanName",title:"排名",align: 'center', valign: 'middle',data:"id"},
                {field:"salesmanName",title:"业务员姓名",align: 'center', valign: 'middle',data:"id"},
                {field:"salesmanName",title:"业务员电话",align: 'center', valign: 'middle',data:"no"},
                {field:"salesmanName",title:"区域",align: 'center', valign: 'middle',data:"no"},
                {field:"salesmanName",title:"是否在职",align: 'center', valign: 'middle',data:"no"},
                {field:"salesmanName",title:"销量",align: 'center', valign: 'middle',data:"unit"},
                {field:"price",title:"销售额",align: 'center', valign: 'middle',data:"price",
                    formatter:function (value, row, index) {
                        return [row.price.toFixed(2)].join("");
                    }
                },
                {field:"opt",title:"操作",align: 'center', valign: 'middle',data:"opt",
                    formatter:function (value, row, index) {
                        return [
                            '<button type="button" class="detail btn btn-danger btn-xs" userId="'+row.id+'"><i class="glyphicon glyphicon-edit" aria-hidden="true"></i>详情</button>'
                        ].join("&nbsp;&nbsp;");
                    },
                    events: {
                        "click .detail":function (e, value, row, index) {
                            layer.open({
                                title:"删除前的确认",
                                content:"确定删除<font color='red'>"+row.name+"</font>（<font color='red'>"+row.id+"</font>）？",
                                btn:["确定","取消"],
                                btn1:function (index) {
                                    //开始执行删除操作
                                    var ajaxObj = {url: 'del',param:{"id":row.id},method:"GET",async:false};
                                    commonJS.sendAjaxRequest(ajaxObj, function (value) {
                                        if(value.data==true){
                                            layer.alert("删除成功！");
                                        } else {
                                            layer.alert("删除<font color='red'>"+row.name+"</font>（<font color='red'>"+row.id+"</font>）失败！");
                                        }
                                    });
                                    window.location.reload();
                                },
                                btn2:function (index) {
                                    layer.close(index);
                                }
                            });
                        }
                    }
                }
            ]
        });

        $("#add").on("click", function () {
            layer.open({
                title: "新增产品",
                type: 1,
                skin: 'layui-layer-rim', //加上边框
                area: ['580px', '400px'], //宽高
                content: $("#addProduct"),
                btn: ['确定','取消'],
                btn1: function (index) {
                    var name = $("#name").val();
                    if(name==null || name=="" || name==undefined){
                        layer.msg("品名不能为空！");
                        return;
                    }
                    var unit = $("#unit").val();
                    if(unit==null || unit=="" || unit==undefined){
                        layer.msg("单位不能为空！");
                        return;
                    }
                    var specification = $("#specification").val();
                    if(specification==null || specification=="" || specification==undefined){
                        layer.msg("规格不能为空！");
                        return;
                    }
                    var price = $("#price").val();
                    if(price==null || price=="" || price==undefined){
                        layer.msg("价格不能为空！");
                        return;
                    }
                    var no = $("#no").val();
                    var param = {
                        no: no,
                        name: name,
                        unit: unit,
                        specification: specification,
                        price: price
                    };
                    var ajaxObj = {url: 'add',param:param,method:"POST",async:false};
                    commonJS.sendAjaxRequest(ajaxObj, function (data) {
                        if(data.data==true){
                            layer.msg('新增产品成功！');
                        } else {
                            layer.msg("新增产品失败！")
                        }
                        layer.close(index);
                        window.location.reload();
                    });
                },
                btn2: function (index) {
                    layer.close(index);
                }
            });
        });

    });
</script>
</body>
</html>
